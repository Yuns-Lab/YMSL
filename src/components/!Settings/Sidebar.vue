<script setup>
import { ref } from "vue";
import SidebarItem from "./SidebarItem.vue";

const now = ref(0);

const emit = defineEmits(["switchPage"]);

const switchPage = (newPage) => {
    now.value = newPage;
    emit("switchPage", { page: newPage });
};
</script>

<template>
    <div id="LSSidebar" :style="{ '--ls-sidebar-mark': `${20 + 42 * now}px` }">
        <SidebarItem
            name="启动设置"
            :haveResetBtn="true"
            :isThis="now === 0"
            @click="switchPage(0)">
            <svg
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M330.56 752.912c-12.384 43.168-33.408 73.28-138.8 79.088 4.64-84.96 16.912-137.52 112.24-144.592v-79.472c-63.584 3.104-117.6 25.632-150.976 72.576-43.984 61.84-43.04 158.128-39.168 228.912 26.08 1.408 155.36 13.68 229.536-38.768 46.352-32.768 69.616-87.2 72.768-150.656h-79.712c-0.656 0-2.496 21.088-5.888 32.912zM886.4 96H720.56c-70.512 0-136.8 27.472-186.672 77.328l-124.896 124.896-51.024-8.352A136.992 136.992 0 0 0 335.376 288a135.632 135.632 0 0 0-113.408 60.96L105.712 524.48l61.552 61.568L413.52 544l-68.64-68.64-124.496 20.752 68.304-103.024a56.272 56.272 0 0 1 56-24.32l91.696 15.2 154.08-154.08A182.816 182.816 0 0 1 720.544 176H848v127.44c0 49.136-19.136 95.36-53.888 130.112l-154.08 154.064 15.2 91.68a56 56 0 0 1-24.336 56l-103.008 68.32 20.752-124.512-68.64-68.64-42.08 246.24 61.568 61.568 175.552-116.256a136.096 136.096 0 0 0 59.072-136l-8.352-51.008 124.912-124.896A262.272 262.272 0 0 0 928 303.44V137.6C928 114.656 909.344 96 886.4 96zM752 312a40 40 0 1 0-80 0 40 40 0 0 0 80 0z m-144 144a40 40 0 1 0-80 0 40 40 0 0 0 80 0z"></path>
            </svg>
        </SidebarItem>
        <SidebarItem
            name="高级设置"
            :haveResetBtn="true"
            :isThis="now === 1"
            @click="switchPage(1)">
            <svg
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M665.6 558.08c148.48 30.72 291.84-56.32 327.68-199.68 15.36-61.44 10.24-122.88-15.36-174.08-10.24-15.36-25.6-25.6-46.08-15.36-5.12 0-5.12 5.12-10.24 5.12L783.36 307.2 716.8 240.64 849.92 102.4c5.12-5.12 10.24-15.36 10.24-25.6s-5.12-20.48-15.36-25.6C711.68-10.24 552.96 46.08 491.52 179.2 460.8 240.64 455.68 307.2 476.16 368.64l-30.72 30.72-174.08-174.08-30.72-61.44-5.12-5.12-107.52-76.8c-15.36-5.12-30.72-5.12-40.96 5.12l-51.2 51.2c-10.24 10.24-10.24 30.72 0 40.96l66.56 102.4 5.12 10.24 66.56 30.72 174.08 174.08-302.08 302.08c-10.24 15.36-10.24 35.84 0 46.08l138.24 138.24c5.12 5.12 15.36 10.24 25.6 10.24s15.36-5.12 20.48-10.24L501.76 716.8l271.36 271.36c15.36 15.36 35.84 15.36 46.08 0l112.64-112.64c15.36-10.24 15.36-35.84 0-46.08L665.6 558.08zM81.92 163.84l30.72-30.72 81.92 56.32 20.48 40.96-30.72 40.96-46.08-25.6-56.32-81.92z m143.36 138.24l25.6-25.6L409.6 435.2l-25.6 25.6-158.72-158.72z m-15.36 640l-112.64-112.64 424.96-424.96c10.24-10.24 10.24-20.48 5.12-35.84-40.96-112.64 20.48-235.52 133.12-276.48 46.08-15.36 92.16-15.36 138.24 0L665.6 220.16c-15.36 15.36-15.36 35.84 0 46.08L757.76 358.4c10.24 15.36 35.84 15.36 46.08 0l128-128c40.96 112.64-20.48 230.4-133.12 271.36-40.96 15.36-87.04 15.36-128 0-10.24-5.12-25.6 0-30.72 10.24l-430.08 430.08z m588.8 0l-261.12-261.12 87.04-87.04 261.12 261.12-87.04 87.04z"></path>
                <path
                    d="M512 450.56c-35.84 0-61.44 25.6-61.44 61.44s25.6 61.44 61.44 61.44 61.44-25.6 61.44-61.44-25.6-61.44-61.44-61.44zM501.76 512c0-5.12 5.12-10.24 10.24-10.24s10.24 5.12 10.24 10.24c0 10.24-20.48 10.24-20.48 0z"></path>
            </svg>
        </SidebarItem>
    </div>
</template>

<style scoped lang="less">
div#LSSidebar {
    width: 100%;
    height: 100%;
    background-color: var(--color-white-trans2);
    padding: 20px 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
    &::before {
        position: absolute;
        content: "";
        width: 6px;
        height: 36px;
        background-color: var(--color-green);
        top: var(--ls-sidebar-mark);
        transition: top 0.25s ease-in-out;
    }
}
</style>
